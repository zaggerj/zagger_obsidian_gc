---
tags: DailyNote
searchterm: "#å‘¨è®°"
banner: "040 - Obsidian/é™„ä»¶/banners/daily-note-banner.gif"
cssclass: noyaml
banner_icon: ğŸ’Œ
banner_x: 0.5
banner_y: 0.38
week: 2023-49
created: 2023-12-06 08:16:20
updated: 2023-12-06 08:16:20
---

# 1. 2023å¹´12æœˆ06æ—¥

_æœ¬æ–‡ä»¶ä¸»æ—¨ï¼Œå¹¶é“¾æ¥åˆ°å‰ä¸€å¤©å’Œåä¸€å¤©æ–‡ä»¶_

<< [[2023å¹´12æœˆ05æ—¥]] | [[2023å¹´12æœˆ07æ—¥]]>>

## 1.1. Metadata

_æ·»åŠ ä¸€äº›å…ƒæ•°æ®ï¼Œæ–¹ä¾¿åç»­æœç´¢æŸ¥çœ‹ç­‰ç­‰_

Status:: #ç¬”è®°çŠ¶æ€/ğŸŒ± å‘èŠ½
Source Type:: #ğŸ“¥/ğŸ’­ æƒ³æ³• 
Note Type:: #ç¬”è®°
Topic:: [[00.å­¦ä¹ -å‰ç«¯]]
Author:: zagger
Source URL::
Modify:: 2023-12-06 æ˜ŸæœŸä¸‰ 08:16:17

## 1.2. é•¿é’ç¬”è®°

_ä¸€å¥è¯æ¦‚æ‹¬è¿™ç¯‡ç¬”è®°çš„å†…å®¹_

- Summary::5.6.1ç¬¬äºŒä¸‰å››è¿­ä»£åœ¨è¿›è¡Œï¼Œ5.6.3éœ€æ±‚å³å°†å¼€å§‹ã€‚

## 1.3. è‡ªæˆ‘é‡è¿°

_ç”¨è‡ªå·±çš„è¯å»é‡è¿°æå–çš„é‡ç‚¹å†…å®¹_

1. å°ç¨‹åºå­˜åœ¨ç‰ˆæœ¬ç®¡ç†ä¸ç”Ÿå‘½å‘¨æœŸé—®é¢˜ã€‚
2. ç½—å‡¯ç¬¬äºŒè¿­ä»£ä¿®æ”¹çš„é»˜è®¤ç«¯å£å·ï¼Œæœ‰bugã€‚
## 1.4. é‡ç‚¹æ‘˜æŠ„

_æ‘˜æŠ„éƒ¨åˆ†åŸæ–‡åï¼Œè¿›è¡Œç­›é€‰åŠ ç²—ç„¶åå¯¹åŠ ç²—çš„ç»§ç»­è¿›è¡Œç­›é€‰è§å…‰ç¬”é€‰å‡ºã€‚_

```js
const branches = [
"5.5.0-featrue-spice_tool",
"5.5.0-feature-pnpm",
"5.5.0-patch-spice_drag_upload",
"5.5.0-vpc",
"5.5.1-bug",
"5.5.1-dev",
"5.5.1-dev-stage1-data-roam",
"5.5.1-dev-stage4-unregister",
"5.5.1-dev-temp",
"5.5.1-feature",
"5.5.1-feature-spice",
"5.5.1-feature-stage1",
"5.5.1-feature-stage2",
"5.5.1-feature-stage3",
"5.5.1-feature-stage4-lhq",
"5.5.1-feature-template-virtual-scroll",
"5.5.1-patch",
"5.5.1-patch-gpu-pause",
"5.5.1-patch-idp_disabled",
"5.5.1-patch-prj-spice_drag_upload",
"5.5.1-patch-token_reboot_idp_disable",
"5.5.1-vpc",
"5.5.2-vpc",
"5.5.2-vpc-patch-prj-fjcm"
]

console.log(branches)
// version [dev|vpc] | [feature|bug] | [OEM|patch|prj|custom] [-name]                               
const reg = /(\d\.\d\.\d)(?:-(dev|feature|bug|vpc|OEM|patch|prj|custom))?(\w*)/
branches.slice(0,50).forEach(item => {
    const matches = item.match(reg)
    console.log('matches:', matches)
})
```
ç‰ˆæœ¬åˆ¤æ–­é€»è¾‘
```js
Â // version [-prod] | [-stage]|[-custom] [-name]
Â  Â  const branchReg =
Â  Â  Â  /(\d\.\d\.\d)(?:-(dev|vpc))?(?:-((?:feature|bug)|(?:OEM|patch|prj|custom)))?(?:-([-_\w\u4e00-\u9fff]*))?/
Â  Â  const ngMatches = ngconsoleBranch.match(branchReg)
Â  Â  const reMatches = ngconsoleResourceBranch.match(branchReg)
Â  Â  if (ngMatches && reMatches) {
Â  Â  Â  const [, version, prod, stage, name] = ngMatches
Â  Â  Â  const [, reVersion, reProd, reStage, reName] = reMatches
Â  Â  Â  const ngBranch = { version, prod, stage, name }
Â  Â  Â  const reBranch = { version: reVersion, prod: reProd, stage: reStage, name: reName }
Â  Â  Â  const customEqual = (a, b) => {
Â  Â  Â  Â  const clearDevFn = v => v === undefined || v === 'dev'
Â  Â  Â  Â  const order = [undefined, 'dev', 'feature']
Â  Â  Â  Â  const orderFn = o =>
Â  Â  Â  Â  Â  Math.max(
Â  Â  Â  Â  Â  Â  order.findIndex(item => item === o.prod),
Â  Â  Â  Â  Â  Â  order.findIndex(item => item === o.stage)
Â  Â  Â  Â  Â  )
Â  Â  Â  Â  a.order = orderFn(a)
Â  Â  Â  Â  b.order = orderFn(b)
Â  Â  Â  Â  console.log('a.version === b.version:', a.version === b.version)
Â  Â  Â  Â  console.log('clearDevFn(a.prod) === clearDevFn(b.prod):', clearDevFn(a.prod) === clearDevFn(b.prod))
Â  Â  Â  Â  console.log(
Â  Â  Â  Â  Â  '!(b.stage && b.name) || a.stage + a.name === b.stage + b.name:',
Â  Â  Â  Â  Â  !(b.stage && b.name) || a.stage + a.name === b.stage + b.name
Â  Â  Â  Â  )
Â  Â  Â  Â  console.log('a.order === b.order || a.order >= b.order:', a.order === b.order || a.order >= b.order)
Â  Â  Â  Â  return (
Â  Â  Â  Â  Â  a.version === b.version &&
Â  Â  Â  Â  Â  clearDevFn(a.prod) === clearDevFn(b.prod) &&
Â  Â  Â  Â  Â  // Â å¦‚æœngconsole_resources xxx-feature-xxx è¦æ±‚ ngconsole xxx-feature-xx
Â  Â  Â  Â  Â  (!(b.stage && b.name) || a.stage + a.name === b.stage + b.name) &&
Â  Â  Â  Â  Â  // å¦‚æœorderä¸ä¸€è‡´ï¼Œå°±è¦ngconsoleå¤§äºngconsole_resources
Â  Â  Â  Â  Â  (a.order === b.order || a.order >= b.order)
Â  Â  Â  Â  )
Â  Â  Â  }
Â  Â  Â  // (5.1.4-vpc) $ git checkout -b 5.2.0-vpc-OEM-xx
Â  Â  Â  if (prod + version === 'vpc5.2.0' && reProd + reVersion === 'vpc5.1.4')
Â  Â  Â  Â  return console.log('vpc5.2.0 use vpc5.1.4 resources, skip!')
Â  Â 
```
### 1.4.1. äº‹ä»¶

_è®°å½•å½“å¤©å‡ºç°çš„äº‹ä»¶_

**[[2023å¹´12æœˆ06æ—¥]]äº‹ä»¶** 
#è·Ÿè¸ª #é‡è¦ #è®°å½• #å®˜æ–¹æ–‡æ¡£ #è®°å½•åšå®¢ #å­¦ä¹ çŸ¥è¯†ç‚¹ #è®¡åˆ’ä»»åŠ¡ #è¿œç¨‹ååŠ© #ä¼šè®® #ç®¡ç†ä»»åŠ¡ 
#è®°å½• èµ„æºé…ç½®ç³»ç»Ÿï¼Œé‡æ„äº†åç«¯åˆå§‹åŒ–æ•°æ®åº“æ—¶ï¼Œåˆå§‹åŒ–æ–°å»ºadminè´¦å·å’Œé»˜è®¤é¡¹ç›®çš„é€»è¾‘
#è®°å½• #vscode #æ­£åˆ™æ›¿æ¢ #æ­£åˆ™ `\b([\w\-().]*)\n` #æ›¿æ¢ `"$1",\n`
#è®°å½• `const branchReg = /(\d\.\d\.\d)(?:-(dev|vpc))?(?:-((?:feature|bug)|(?:OEM|patch|prj|custom)))?(?:-([-_\w\u4e00-\u9fff]*))?/`
#è®°å½• ngconsoleåˆ¤æ–­è·Ÿngconsole_resourcesåˆ†æ”¯ç‰ˆæœ¬é—®é¢˜
#è®°å½• å°ç¨‹åºå­˜åœ¨ç”Ÿå‘½å‘¨æœŸé—®é¢˜ï¼Œå¼‚æ­¥è·å–ç‰ˆæœ¬ä¿¡æ¯å’Œå°ç¨‹åºappåˆå§‹åŒ–åŒæ—¶è¿›è¡Œï¼Œåœ¨ç¼“å­˜é¡µé¢æ—¶ï¼Œç‰ˆæœ¬è¿˜æ²¡æœ‰è·å–åˆ°ï¼Œåªæœ‰ä¾èµ–åˆ†åŒ…æœºåˆ¶ï¼Œåœ¨åˆ‡æ¢é¡µé¢æ—¶ï¼Œæ‹‰å–åŠ¨æ€åŠ è½½é¡µé¢æ‰æ˜¯æœ€æ–°ç‰ˆæœ¬ã€‚

^event

#### 1.4.1.1. æ¯æ—¥å·¥æ—¶

_è®°å½•ç¦…é“å·¥æ—¶ï¼Œæœ€ç»ˆæ‘˜æŠ„åˆ°ç¦…é“_
**[[2023å¹´12æœˆ06æ—¥]]å·¥æ—¶**
- [ ] 08:30 - 10:00 #å·¥æ—¶ ã€ç®¡ç†ä»»åŠ¡ã€‘5.6.3éœ€æ±‚è®¡åˆ’å†…å®¹ç¡®è®¤ 1.5h
- [ ] 10:00 - 11:30 #å·¥æ—¶ ã€ç®¡ç†ä»»åŠ¡ã€‘5.6.1ç¬¬å››è¿­ä»£å°ç¨‹åºè‡ªæµ‹åŠé—®é¢˜æ²Ÿé€š 1.5h
- [ ] 11:30 - 17:30 #å·¥æ—¶ ã€ç®¡ç†ä»»åŠ¡ã€‘èµ„æºé…ç½®ç³»ç»Ÿæ”¯æŒåŒæ­¥ç¿»è¯‘æ–‡ä»¶åˆ°æŒ‡å®šæœåŠ¡å™¨-åˆå§‹åŒ–æ•°æ®ä»£ç é‡æ„ 4h
- [ ] 17:30 - 18:30 #å·¥æ—¶ ã€ç®¡ç†ä»»åŠ¡ã€‘5.6.1ç¬¬äºŒè¿­ä»£è¡¥ä¸è‡ªæµ‹ 1h

^time

æœ¬å‘¨è®°å½•ï¼š[[2023å¹´ç¬¬49å‘¨è®°å½•]]

# 2. ç›¸å…³æ–‡ç« 

_æ‘˜æŠ„æ¥æºï¼Œå¼•ç”¨å‡ºå¤„ï¼Œå‚è€ƒé“¾æ¥ï¼Œæ–‡æ¡£æŸ¥è¯¢_

Page Link::
[Examples - Apache ECharts](https://echarts.apache.org/examples/zh/index.html#chart-type-pie)
[Mongoose 5.0 ä¸­æ–‡æ–‡æ¡£](http://www.mongoosejs.net/docs/api.html#findone_findOne)
[æ•™è‚²æ¡Œé¢äº‘ç³»åˆ—5.6.3éœ€æ±‚æ± @20230628](https://www.kdocs.cn/l/cq983TSTP8Lm)
å°ç¨‹åºå¼€å‘æœåŠ¡å™¨ï¼š[172.21.65.145](https://172.21.65.145/view-front/#/serve/desktop/openClass)
5.6.1å¼€å‘æœåŠ¡å™¨ï¼š[172.21.65.148](https://172.21.65.148/#/login?next=%2Fresource%2Fpool)
[èåˆç‰ˆ5.6.1ç ”å‘è‡ªæµ‹ç”¨ä¾‹](https://www.kdocs.cn/l/cpwD8y3HIFKB)
[æ­£åˆ™è¡¨è¾¾å¼å¯è§†åŒ–-Visual Regexpï¼šåœ¨çº¿æµ‹è¯•ã€å­¦ä¹ ã€æ„å»ºæ­£åˆ™è¡¨è¾¾å¼](https://wangwl.net/static/projects/visualRegex#source=%2F((%3F%3A%5Cd%5C.%5Cd%5C.%5Cd)(%3F%3D-dev)%3F(%3F%3A-vpc)%3F)(%3F%3A-((%3F%3Afeature%7Cbug)%7C(%3F%3AOEM%7Cpatch%7Cprj%7Ccustom)))%3F(%3F%3A-(%5B%5Cw_%5D*))%3F%2F&match=1.1&method=match)

^url
