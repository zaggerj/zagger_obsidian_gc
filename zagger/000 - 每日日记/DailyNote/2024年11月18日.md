---
tags: DailyNote
searchterm: "#å‘¨è®°"
banner: "040 - Obsidian/é™„ä»¶/banners/daily-note-banner.gif"
cssclass: noyaml
banner_icon: ğŸ’Œ
banner_x: 0.5
banner_y: 0.38
week: 2024-47
created: 2024-11-18 08:42:58
updated: 2024-11-18 08:42:58
---

# 1. 2024å¹´11æœˆ18æ—¥

_æœ¬æ–‡ä»¶ä¸»æ—¨ï¼Œå¹¶é“¾æ¥åˆ°å‰ä¸€å¤©å’Œåä¸€å¤©æ–‡ä»¶_

<< [[2024å¹´11æœˆ17æ—¥]] | [[2024å¹´11æœˆ19æ—¥]]>>

## 1.1. Metadata

_æ·»åŠ ä¸€äº›å…ƒæ•°æ®ï¼Œæ–¹ä¾¿åç»­æœç´¢æŸ¥çœ‹ç­‰ç­‰_

Status:: #ç¬”è®°çŠ¶æ€/ğŸŒ± å‘èŠ½
Source Type:: #ğŸ“¥/ğŸ’­ æƒ³æ³• 
Note Type:: #ç¬”è®°
Topic:: [[00.å­¦ä¹ -å‰ç«¯]]
Author:: zagger
Source URL::
Modify:: 2024-11-18 æ˜ŸæœŸä¸€ 08:42:57

## 1.2. é•¿é’ç¬”è®°

_ä¸€å¥è¯æ¦‚æ‹¬è¿™ç¯‡ç¬”è®°çš„å†…å®¹_

- Summary::

## 1.3. è‡ªæˆ‘é‡è¿°

_ç”¨è‡ªå·±çš„è¯å»é‡è¿°æå–çš„é‡ç‚¹å†…å®¹_

- [ ] å¾…åŠç¤ºä¾‹ 2024å¹´11æœˆ18æ—¥
	- [ ] æ¬¡å§å®¶åº­è£…ä¿®æ–¹æ¡ˆåˆ¶å®š
	- [ ] å·¥ä½œå¾…å®Œæˆï¼ˆè¿‘ä¸€ä¸ªæœˆä¹‹å†…è¦å®Œæˆï¼‰
		- [ ] æ¨¡æ¿ä¼˜åŒ–å®Œæˆ
		- [ ] electronæœ€ä½³å®è·µ
		- [ ] typescriptè®¾è®¡åŸåˆ™

^todo

## 1.4. é‡ç‚¹æ‘˜æŠ„

_æ‘˜æŠ„éƒ¨åˆ†åŸæ–‡åï¼Œè¿›è¡Œç­›é€‰åŠ ç²—ç„¶åå¯¹åŠ ç²—çš„ç»§ç»­è¿›è¡Œç­›é€‰è§å…‰ç¬”é€‰å‡ºã€‚_
### 1.4.1. OS-EASY ä¸“å±ç¦…é“æ ‡è®°åŠ©æ‰‹ è„šæœ¬
```javascript
// ==UserScript==
// @name        OS-EASY ä¸“å±ç¦…é“æ ‡è®°åŠ©æ‰‹
// @namespace   Violentmonkey Scripts
// @match       http*://172.16.203.14/*
// @require     https://unpkg.com/jquery@3.3.1/dist/jquery.min.js
// @require     https://unpkg.com/cn-workday@1.0.11/dist/cn-workday.js
// @grant       GM_addStyle
// @grant       GM_setClipboard
// @version     1.3.5
// @author      LinHQ & Mr.Cheng
// @license     GPLv3
// @description ä»…é’ˆå¯¹ OS-EASY é€‚é…ï¼Œæ ‡è®° bug ç•™å­˜æ—¶é—´ã€è§£å†³æ–¹æ¡ˆå¡«å†™äººæç¤ºã€è®¡ç®—æ¯æ—¥å·¥æ—¶ã€ä¸€é”®å¤åˆ¶è§£å†³çš„ bugã€è§£å†³æŒ‡æ´¾ bug å¼ºåˆ¶å¡«å†™å·¥æ—¶ã€Bug ç‚¹å‡»åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€
// @downloadURL https://update.greasyfork.org/scripts/502308/OS-EASY%20%E4%B8%93%E5%B1%9E%E7%A6%85%E9%81%93%E6%A0%87%E8%AE%B0%E5%8A%A9%E6%89%8B.user.js
// @updateURL https://update.greasyfork.org/scripts/502308/OS-EASY%20%E4%B8%93%E5%B1%9E%E7%A6%85%E9%81%93%E6%A0%87%E8%AE%B0%E5%8A%A9%E6%89%8B.meta.js
// ==/UserScript==

(() => {
    $.noConflict(true)(document).ready(async ($) => {
        // åˆå§‹åŒ–
        await initialize();

        // å®šä¹‰é¢œè‰²å¸¸é‡
        const colors = {
            green: '#82E0AA',
            yellow: '#F7DC6F',
            brown: '#FE9900',
            red: '#E74C3C'
        };

        // è®¾ç½®é€šç”¨çš„ç‚¹å‡»äº‹ä»¶ç›‘å¬å™¨
        setBodyClickListener();
        // æ ¹æ®å½“å‰è·¯å¾„è¿›è¡Œä¸åŒçš„å¤„ç†
        const path = document.location.pathname;
        switch (path) {
            case '/effort-calendar.html':
                handleEffortCalendar(colors);
                break;
            case '/my-work-bug.html':
                handleMyWorkBug(colors);
                break;
            default:
                handleDefaultPath(path);
                break;
        }

        // åˆå§‹åŒ–å‡½æ•°
        async function initialize() {
            const userName = localStorage.getItem('zm-username');
            if (!userName) {
                const name = prompt("çœ‹ä¸Šå»ä½ æ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼Œè¯·è¾“å…¥ç¦…é“ä¸­çš„å§“åï¼š");
                if (name) localStorage.setItem('zm-username', name);
                else return;
            }
            $("td.text-left a").attr('target', '_blank');
        }

        // è®¾ç½®é€šç”¨çš„ç‚¹å‡»äº‹ä»¶ç›‘å¬å™¨
        function setBodyClickListener() {
            document.body.onclick = async function (e) {
                if (e instanceof PointerEvent) {
                    const aTag = getATag(e.target);
                    if (!aTag) return;
                    const aHref = $(aTag).attr('href');
                    if (aHref?.includes('bug-resolve')) {
                        await generatorResolveType();
                    }
                }
            };
        }

        // è·å–ç‚¹å‡»çš„Aæ ‡ç­¾
        function getATag(target) {
            if (target.tagName === 'A') return target;
            if (target.parentElement.tagName === 'A') return target.parentElement;
            return null;
        }

        // å¤„ç† effort-calendar é¡µé¢
        function handleEffortCalendar(colors) {
            GM_addStyle(`
              span.zm-day { font-weight: bold; margin: 0 8px; }
              .warn { color: ${colors.brown}; }
              .fine { color: ${colors.green}; }
          `);
          waitForContentInContainer('#main', 'table').then(element => {
              const observer = new MutationObserver(() => markEffortCalendar(element, observer));
              observer.observe(element, { subtree: true, childList: true });
              markEffortCalendar(element, observer);
          });
      }

      // æ ‡è®° effort-calendar é¡µé¢çš„æ•°æ®
      function markEffortCalendar(element, observer) {
          observer.disconnect();
          const days = element.querySelectorAll(".cell-day");
          days.forEach(dayElement => {
              const total = calculateTotalTime(dayElement);
              updateDayElement(dayElement, total);
          });
          observer.observe(element, { subtree: true, childList: true });
      }

      // è®¡ç®—æ—¶é—´æ€»å’Œ
      function calculateTotalTime(dayElement) {
          const timeEles = dayElement.querySelectorAll('.has-time .time');
          return Array.from(timeEles).reduce((total, time) => total + parseFloat(time.textContent), 0);
      }

      // æ›´æ–°å¤©æ•°å…ƒç´ çš„æ˜¾ç¤º
      async function updateDayElement(dayElement, total) {
          $(dayElement).find('.zm-day').remove();
          if (total != 0) {
              const colorClass = total > 10 || total < 8 ? 'warn' : 'fine';
              $(dayElement).find('.heading').prepend(`<div class="copy-time btn-toolbar pull-left" style="margin-left:25px;display:flex;align-items:center;">å¤åˆ¶</div>`);
              $(dayElement).find('.heading').prepend(`<span class="zm-day ${colorClass}">ã€${total.toFixed(1)}å°æ—¶ã€‘</span>`);
              $(dayElement).find('.heading').find('.copy-time').on('click', async function(e){
                  e.stopPropagation();
                  const targetEle = e.target;
                  const content = $(targetEle).parent('.heading').next('.content')
                  function calculateTaskTimes(startTime, tasks) {
                      let currentHour = parseInt(startTime.split(':')[0]);
                      let currentMinute = parseInt(startTime.split(':')[1]);
                      const results = [];
                      let startDate = new Date()
                      startDate.setHours(currentHour)
                      startDate.setMinutes(currentMinute)

                      const middleStartDate = new Date()
                      middleStartDate.setHours(12)
                      middleStartDate.setMinutes(0)
                      const middleEndDate = new Date()
                      middleEndDate.setHours(14)
                      middleEndDate.setMinutes(0)

                      let endDate = null

                      tasks.forEach(task => {
                          const hourStamp = 60 * 60 * 1000
                          const timeParts = task.time.split('h');
                          let hours = timeParts[0] * 1
                          let startStamp = startDate.getTime()
                          const middleStamp = middleStartDate.getTime()
                          const middleEndStamp = middleEndDate.getTime()
                          let endStamp = startStamp + hours * hourStamp

                          if (startStamp <= middleStamp && endStamp > middleStamp) {
                              endStamp = endStamp + 2 * hourStamp
                          }
                          const start = new Date(startStamp)
                          const end = new Date(endStamp)
                          const startTimeStr = `${String(start.getHours()).padStart(2, '0')}:${String(start.getMinutes()).padStart(2, '0')}`;
                          const endTimeStr = `${String(end.getHours()).padStart(2, '0')}:${String(end.getMinutes()).padStart(2, '0')}`;
                          startDate = new Date(endStamp)
                          results.push({
                              ...task,
                              start: startTimeStr,
                              end: endTimeStr
                          });
                      });

                      return results;
                  }

                  // ç¤ºä¾‹ç”¨æ³•
                  const start = '08:30';
                  let tempTasks = Array.from(content.find('.events').find('.event').map(function () {
                      const title = $(this).find('.title').text().trim()
                      const time = $(this).find('.time').text().trim()
                      const id = $(this).data('id')
                      return {
                          id,
                          time,
                          title
                      }
                  }))
                  tempTasks = calculateTaskTimes(start, tempTasks)
                  const parseTaskDoc = function (doc) {
                      const objReg = new RegExp(`å¯¹è±¡\n`);
                      const id = $(doc).find('.main-header span.label').text()
                      let item = {}
                      $(doc).find('table tbody tr').each(function (){
                          // console.log($(this).text())
                          const text = $(this).text()
                          if (objReg.test(text)) {
                              item.obj = text.replace(objReg, '').replace('\n', '').trim()
                              item.href = $(this).find('a').attr('href')
                          }
                      })
                      return {...item, id}
                  }
                  const fetchTaskData = async function() {
                      const docs = await Promise.all(tempTasks.map(async function(t) { return fetchDocument(`/effort-view-${t.id}.html?onlybody=yes&tid=i2sh4q46`)}))
                      return docs.map((d) => parseTaskDoc(d));
                  }
                  const taskObjData = await fetchTaskData()
                  let tasks = tempTasks.map(t=> {
                      const findOne = taskObjData.find(task=>task.id*1 ===t.id*1)
                      return {...t,...findOne}
                  })
                  tasks = tasks.map((t)=> {
                      return `- [ ] ${t.start} - ${t.end} #å·¥æ—¶ ${t.time}\t${t.title}\t ${t.obj&&t.href ? `[${t.obj}](${location.origin+t.href})\t` : ''}\n`
                }).join('');
                  GM_setClipboard(tasks);
              })
          }
     }

      // å¤„ç† my-work-bug é¡µé¢
      function handleMyWorkBug(colors) {
          GM_addStyle(`
              td.text-left.nobr { white-space: normal; }
              span.zm-mark { padding: 2px; border-radius: 4px; border: 1px solid; font-size: .9em; }
          `);
          addBugFetchButton(colors);
      }

      // æ·»åŠ è·å–bugæ—¶é—´æŒ‰é’®
      function addBugFetchButton(colors) {
          const btn = $(`<div class="btn-toolbar pull-right" style="display:flex;align-items:center;"><div class="btn btn-warning">è·å–bugæ—¶é—´</div><span style="color:${colors.red};">ä¸€é¡µè¶…è¿‡8ä¸ªBugæ—¶éœ€è¦æ‰‹åŠ¨è·å–</span></div>`)
          .on('click', async function () {
              let bugData = await fetchBugData();
              bugData = bugData.map(({ start, hasReactive }) => ({ ...timeRangeStr(start), processed: hasReactive }))
              updateBugTimeCells(bugData, colors);
          }).appendTo('#mainMenu');

          // è‡ªåŠ¨ç‚¹å‡»æŒ‰é’®ä»¥åŠ è½½æ•°æ®
          if ($('tr').length < 9) btn.click();
      }

      // è·å–Bugæ•°æ®
      async function fetchBugData() {
          const bugUrls = $("tr td:nth-child(5) a").map((_, ele) => ele.href).get();
          const bugPages = await Promise.all(bugUrls.map(fetchDocument));
          return bugPages.map(parseBugPage);
      }

      // æ›´æ–°Bugæ—¶é—´å•å…ƒæ ¼
      function updateBugTimeCells(bugData, colors) {
          $("tr th:nth-child(9)").text('Bug ç•™å­˜').removeClass('text-center');
          $("tr td:nth-child(9)").each((idx, ele) => {
              const cell = $(ele).empty().html(`<span class="zm-mark">${bugData[idx].str}</span>`);
              const { h, processed } = bugData[idx];
              updateCellColor(cell, h, processed, colors);
          });
      }

      // æ›´æ–°å•å…ƒæ ¼é¢œè‰²
      function updateCellColor(cell, h, processed, colors) {
          if (h < 12) cell.css({ color: colors.green });
          else if (h < 24) cell.css({ color: !processed ? colors.yellow : colors.green });
          else if (h < 34) cell.css({ color: !processed ? colors.brown : colors.yellow });
          else if (h < 70) cell.css({ color: !processed ? colors.red : colors.brown });
          else cell.css({ color: colors.red });
      }

      // å¤„ç†é»˜è®¤è·¯å¾„
      function handleDefaultPath(path) {
          if (/bug-view-\d+\.html$/m.test(path)) {
              setupBugDetailPage();
          } else if (/resolvedbyme/.test(path)|| /bug-browse/.test(path)) {
              setupResolvedByMePage();
          } else if (/build-view/.test(path)){
              setupResolvedByBuildPage();
          }
          setupLeftMenu()
      }

      async function setupLeftMenu() {
          const element = await waitForContentInContainer('body', '#menuMainNav')
          const myBug = $('<li><a href="/my-work-bug.html" class="show-in-app"><i class="icon icon-bug"></i><span class="text num">æˆ‘çš„Bug</span></a></li>');
          const myTask = $('<li><a href="/my-work-task.html" class="show-in-app"><i class="icon icon-list-alt"></i><span class="text num">æˆ‘çš„ä»»åŠ¡</span></a></li>');
          const zenGuard = $('<li><a class="show-in-app"><i class="icon icon-magic"></i><span class="text num">ç¦…é“å«å£«</span></a></li>');

          myBug.click(function () {
              window.location.href = '/my-work-bug.html';
          });
          myTask.click(function () {
              window.location.href = '/my-work-task.html';
          });
          zenGuard.click(function () {
              window.open('http://172.21.15.106:8090/')
          })

          $('#menuMainNav .divider').before(myBug, myTask, zenGuard);
      }

      // è®¾ç½®Bugè¯¦æƒ…é¡µåŠŸèƒ½
      function setupBugDetailPage() {
          $('.label.label-id').on('click', function () {
              GM_setClipboard(`:bug: ${$(this).text().trim()} ${$(this).next().text().trim().replace(/ã€.+ã€‘/, '')}`);
          }).attr('title', 'ç‚¹å‡»å¤åˆ¶ Bug').css({ cursor: 'pointer' });
          enforceEffortLogging();
      }

      // å¼ºåˆ¶å¡«å†™å·¥æ—¶
      function enforceEffortLogging() {
          $('a').has('.icon-bug-resolve, .icon-bug-assignTo').each((_, e) => {
              e.addEventListener('click', async function (e) {
                  const targetEle = e.target;
                  const { needEffort } = parseBugPage();
                  if (needEffort) {
                      e.stopPropagation();
                      e.preventDefault();
                      $('a.effort').get(0).click();
                  }
              }, true);
          });
      }

      // è®¾ç½® "æˆ‘è§£å†³çš„Bug" é¡µé¢åŠŸèƒ½
      function setupResolvedByMePage() {
          $('<div class="btn btn-success">å¤åˆ¶å‹¾é€‰</div>').on('click', function () {
              const bugs = $('tr.checked').map(function () {
                  const tds = $(this).find("td");
                  const id = $(tds[0]).text().trim();
                  const raw = $(tds[4]).text().trim();
                  let range = raw.match(/ã€([^ã€ã€‘]+?\/.+?)ã€‘/);
                  range = !range ? '' : range[1].replace(/(\d\.?|-){3}/, ''); // ç§»é™¤ç‰ˆæœ¬å·
                  const title = raw.slice(raw.lastIndexOf('ã€‘') + 1);
                  return `${localStorage.getItem('zm-username')}\t\t${id} ${title}\t${range}\n`;
              }).get().join('');
              GM_setClipboard(bugs);
          }).insertBefore('.btn-group.dropdown');
      }
        // è®¾ç½® "æ‰§è¡Œ-è§£å†³çš„bug" é¡µé¢åŠŸèƒ½
      function setupResolvedByBuildPage() {
            $('<div class="btn btn-success" style="margin-right:10px;">å¤åˆ¶å‹¾é€‰</div>').on('click', function () {
                const bugs = $('tr.checked').map(function () {
                    const tds = $(this).find("td");
                    const id = $(tds[0]).text().trim();
                    const raw = $(tds[1]).text().trim();
                    let range = raw.match(/ã€([^ã€ã€‘]+?\/.+?)ã€‘/);
                    range = !range ? '' : range[1].replace(/(\d\.?|-){3}/, ''); // ç§»é™¤ç‰ˆæœ¬å·
                    const title = raw.slice(raw.lastIndexOf('ã€‘') + 1);
                    return `${localStorage.getItem('zm-username')}\t\t${id} ${title}\t${range}\n`;
                }).get().join('');
                GM_setClipboard(bugs);
            }).insertBefore('#bugs .actions a');
        }
      // æ ¹æ®æ—¶é—´èŒƒå›´ç”Ÿæˆå­—ç¬¦ä¸²
      function timeRangeStr(start, end = Date.now()) {
          start = new Date(start);
          end = new Date(end);
          const msPerDay = 3.6e6 * 24;
          let ms = 0;

          while (start.getTime() < end) {
              if (CnWorkday.isWorkday(start)) {
                  ms += msPerDay;
              }
              start.setDate(start.getDate() + 1);
          }

          ms += end - start;
          ms = Math.max(ms, 0);

          const rawh = ms / 3.6e6;
          const h = Math.trunc(rawh);
          const m = Math.trunc((rawh - h) * 60);
          return { str: `${h} å°æ—¶ ${m} åˆ†é’Ÿ`, h, m };
      }

      // è§£æBugé¡µé¢
      function parseBugPage(document = window.document) {
          const userName = localStorage.getItem('zm-username');
          const processedRe = new RegExp(`ç”±.${userName}.(æŒ‡æ´¾|è§£å†³|ç¡®è®¤|æ·»åŠ )`);
          const effortRe = new RegExp(`ç”±.${userName}.è®°å½•å·¥æ—¶`);
          const assignRe = new RegExp(`ç”±.${userName}.æŒ‡æ´¾`);
          const assignedRe = new RegExp(`æŒ‡æ´¾ç»™.${userName}`);
          const dateRe = /(\d{4}-.+:\d{2})/;

          let start, hasReactive = false, needEffort = false;
          const assignmens = [], reactives = [];

          const current = $('#legendBasicInfo th:contains(å½“å‰æŒ‡æ´¾) ~ td').text().trim();
          needEffort = current.includes(userName);

          $(document).find('#actionbox li').each(function () {
              const text = $(this).text().trim();
              if (processedRe.test(text)) {
                  hasReactive = true;
                  reactives.push({ time: new Date(text.match(dateRe)[1]), action: text });
              }
              if (effortRe.test(text)) {
                  needEffort = false;
              }
              if (/ç”±.+åˆ›å»º/.test(text)) {
                  start = new Date(text.match(dateRe)[1]);
              }
              if (assignRe.test(text)) {
                  assignmens.push({ toMe: false, time: new Date(text.match(dateRe)[1]) });
              }
              if (assignedRe.test(text)) {
                  assignmens.push({ toMe: true, time: new Date(text.match(dateRe)[1]) });
                  if (assignmens.length && assignmens[0].toMe) {
                      start = assignmens[0].time;
                  }
                  needEffort = current.includes(userName);
              }
          });

          console.log('(zm)DEBUG: ', { start: new Date(start).toLocaleString(), reactives, assignmens, hasReactive, needEffort });
          return { start, reactives, assignmens, hasReactive, needEffort };
      }

      // è·å–Ownerä¿¡æ¯
      function getOwner(type) {
          const data = {
              "å·²è§£å†³": "ç ”å‘ã€äº§å“ç»ç†",
              "è®¾è®¡å¦‚æ­¤": "äº§å“ç»ç†",
              "è®¾è®¡ç¼ºé™·": "é¡¹ç›®ç»ç†",
              "ä¸äºˆè§£å†³": "äº§å“ç»ç†",
              "å¤–éƒ¨åŸå› ": "ç ”å‘",
              "æäº¤é”™è¯¯": "ç ”å‘",
              "é‡å¤Bug": "ç ”å‘",
              "æ— æ³•é‡ç°": "é¡¹ç›®ç»ç†",
              "ä¸‹ä¸ªç‰ˆæœ¬è§£å†³": "äº§å“ç»ç†",
              "å»¶æœŸå¤„ç†": "äº§å“ç»ç†"
          };
          return data[type] ? `${type}<span style="color: #8e8e8e;">ï¼ˆå¡«å†™äººï¼š${data[type]}ï¼‰</span>` : type;
      }

      // ç”Ÿæˆå¤„ç†ç±»å‹é€‰æ‹©å™¨
      async function generatorResolveType() {
          const element = await waitForContentInContainer('body', '.modal-trigger.modal-scroll-inside .modal-dialog');
          const oIframe = element.querySelector('iframe');
          oIframe.addEventListener('load', () => {
              const content = oIframe.contentDocument;
              const body = content.querySelector('.m-bug-resolve');
              const oResolveType = body.querySelector('.chosen-container');
              oResolveType.addEventListener('click', () => {
                  const lis = oResolveType.querySelectorAll('li');
                  lis.forEach(node => {
                      const text = getOwner(node.textContent.trim());
                      node.innerHTML = text;
                      node.title = text.replace(/<span style="color: .*;">|<\/span>/g, '');
                  });
              });
          });
      }

      // ç­‰å¾…å®¹å™¨å†…å†…å®¹åŠ è½½
      async function waitForContentInContainer(containerSelector, targetSelector, timeout = 10000) {
          return new Promise((resolve, reject) => {
              let timer;
              const container = document.querySelector(containerSelector);

              if (!container) {
                  return reject(new Error(`Container ${containerSelector} not found`));
              }

              function checkElement() {
                  const element = container.querySelector(targetSelector);
                  if (element) {
                      if (timer) clearTimeout(timer);
                      observer.disconnect();
                      resolve(element);
                  }
              }

              const observer = new MutationObserver(checkElement);
              observer.observe(container, { childList: true, subtree: true });

              const iframes = container.querySelectorAll('iframe');
              let iframeLoadPromises = Array.from(iframes).map(iframe => new Promise(resolve => {
                  iframe.addEventListener('load', resolve);
                  if (iframe.contentDocument && iframe.contentDocument.readyState === 'complete') {
                      resolve();
                  }
              }));

              timer = setTimeout(() => {
                  observer.disconnect();
                  reject(new Error(`Timeout: Element ${targetSelector} not found within ${timeout}ms`));
              }, timeout);

              Promise.all(iframeLoadPromises).then(() => checkElement());
          });
      }

      // è·å–ç½‘é¡µæ–‡æ¡£
      async function fetchDocument(url) {
          const response = await fetch(url);
          const arrayBuffer = await response.arrayBuffer();
          const decoder = new TextDecoder(document.characterSet);
          return new DOMParser().parseFromString(decoder.decode(arrayBuffer), 'text/html');
      }
  });
})();

```

### 1.4.2. äº‹ä»¶

_è®°å½•å½“å¤©å‡ºç°çš„äº‹ä»¶_

**[[2024å¹´11æœˆ18æ—¥]]äº‹ä»¶** 
#è·Ÿè¸ª #é‡è¦ #è®°å½• #å®˜æ–¹æ–‡æ¡£ #è®°å½•åšå®¢ #å­¦ä¹ çŸ¥è¯†ç‚¹ #è®¡åˆ’ä»»åŠ¡ #è¿œç¨‹ååŠ© #ä¼šè®® #ç®¡ç†ä»»åŠ¡
#é‡è¦ js æ–°è¯­æ³• ï¼š[æŒ¯å¥‹äººå¿ƒï¼æ˜å¹´ JavaScript å®˜æ–¹å³å°†æ¨å‡ºè¿™å››å¤§äº®ç‚¹ï¼](https://mp.weixin.qq.com/s/hX64xU_llb7yGQY4n362Bg)

^event

#### 1.4.2.1. æ¯æ—¥å·¥æ—¶

_è®°å½•ç¦…é“å·¥æ—¶ï¼Œæœ€ç»ˆæ‘˜æŠ„åˆ°ç¦…é“_
**[[2024å¹´11æœˆ18æ—¥]]å·¥æ—¶**
- [ ] 08:30 - 15:30 #å·¥æ—¶ 5h	[B]æ²Ÿé€šæ‰€æœ‰ç›¸å…³ç ”å‘ï¼Œæ²Ÿé€šéœ€æ±‚ï¼Œé‡æ–°æ¢³ç†æ–¹æ¡ˆï¼ŒæŒ‰ç…§æ–°çš„ç»“è®ºä¿®æ”¹ã€‚	 [Bug #65073 ã€VDIå®¢æˆ·ç«¯-åä¸ºw585xã€‘ã€å¿…ç°ã€‘åä¸ºw585xçš„VDIå®¢æˆ·ç«¯æ³¨å†Œåˆ°æœåŠ¡å™¨ä¸Šï¼Œç”±äºç»ˆç«¯ç±»å‹è¯†åˆ«ä¸å¯¹å¯¼è‡´è®¾ç½®ç»ˆç«¯å¤„éƒ¨åˆ†åŠŸèƒ½ç¼ºå¤±](http://172.16.203.14:2980/bug-view-65073.html?onlybody=yes&tid=i2sh4q46)	
- [ ] 15:30 - 18:30 #å·¥æ—¶ 3h	ã€åä¸ºç»ˆç«¯é€‚é…ã€‘ã€å‰ç«¯è¡¥ä¸åŒ…æä¾›ã€‘åˆ†æ”¯ç¡®å®šï¼Œæäº¤å·ç¡®å®šï¼Œæ²Ÿé€šç ”å‘ç­‰	 


^time

æœ¬å‘¨è®°å½•ï¼š[[2024å¹´ç¬¬47å‘¨è®°å½•]]

# 2. ç›¸å…³æ–‡ç« 

_æ‘˜æŠ„æ¥æºï¼Œå¼•ç”¨å‡ºå¤„ï¼Œå‚è€ƒé“¾æ¥ï¼Œæ–‡æ¡£æŸ¥è¯¢_

Page Link::
1. [æŒ¯å¥‹äººå¿ƒï¼æ˜å¹´ JavaScript å®˜æ–¹å³å°†æ¨å‡ºè¿™å››å¤§äº®ç‚¹ï¼](https://mp.weixin.qq.com/s/hX64xU_llb7yGQY4n362Bg)
2. [BUILD #7135 6.0.3-future - æ•™è‚²ç‰ˆ6.0.3å¼€å‘è¿­ä»£ - ç¦…é“](http://172.16.203.14:2980/build-view-7135.html?tid=glrod066)

^url
