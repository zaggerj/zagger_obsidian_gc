---
created: 2023-11-06T08:20
updated: 2023-11-06T08:20
---
* 从上到下，从旧到新，跟正常 commit 是反的顺序
* 调整顺序就直接改变顺序即可
* 删除提交，那一条前，标识为 d 即可
* 使用 `squash` 操作可以将一个或多个提交合并到前一个提交中。在 vim 界面，即是从下往上合并，从新往旧合并。
* 修改提示消息：使用 `reword` 操作可以修改一个提交的提交消息。将要修改的提交的操作类型改为 `reword`，保存并关闭编辑器后，Git 会允许你编辑该提交的提交消息。

`git rebase -i` 是一个非常有用的 Git 命令，它允许你以交互式的方式重新组织和修改提交历史。

`rebase` 命令的作用是将一个分支上的提交应用到另一个分支上。而 `git rebase -i` 则是在进行 rebase 操作时，以交互式方式编辑提交历史。

下面是 `git rebase -i` 的详细介绍和使用方式：

1. **启动交互式 rebase**：

   通过以下命令启动交互式 rebase：

   ````
   git rebase -i <base>
   ```

   这里的 `<base>` 可以是一个分支名、提交哈希值或标签名，表示你希望将哪个分支或提交的提交历史应用到当前分支上。

2. **编辑提交历史**：

   执行上述命令后，Git 会打开一个文本编辑器，列出了将要被 rebase 的提交历史。每个提交都对应一行，以 `pick` 开头，后面跟着提交的哈希值和提交消息。

   你可以根据需要修改这些提交行的顺序、删除某些提交、合并提交或修改提交消息。

3. **选择操作类型**：

   在每个提交行前面的操作类型可以用来选择要对提交执行的操作。以下是一些常用的操作类型：

   - `pick`：保留提交。
   - `reword`：保留提交，但修改提交消息。
   - `edit`：保留提交，并允许你在应用每个提交时进行修改。
   - `squash` 或 `fixup`：将提交合并到前一个提交中。
   - `drop`：删除提交。

   你可以根据需要修改每个提交行的操作类型。

4. **保存并关闭编辑器**：

   当你完成对提交历史的编辑后，保存并关闭编辑器。Git 会根据你的编辑结果重新组织提交，并应用到当前分支上。

   如果在编辑过程中有冲突发生，Git 会暂停 rebase 过程，让你解决冲突后继续。

5. **完成 rebase**：

   解决冲突（如果有的话）后，继续执行 `git rebase --continue` 命令来完成 rebase 操作。

   Git 会将编辑后的提交历史应用到当前分支上，完成 rebase。

`git rebase -i` 允许你以交互式的方式重新组织和修改提交历史，它非常有用于合并提交、修改提交消息、删除提交或重新排序提交等操作。然而，需要注意的是，对于已经被推送到远程仓库的提交历史，执行 rebase 操作可能会产生问题，因为它会改变提交历史的结构。因此，在对已共享的提交历史执行 rebase 操作前，请确保了解与团队合作的最佳实践和协作流程。

1. 当使用 `git rebase -i` 进行交互式 rebase 时，你可以进行更多的操作来重新组织和修改提交历史。以下是一些常用的操作：

1. **合并提交（squash）**：
    
    使用 `squash` 操作可以将一个或多个提交合并到前一个提交中。你可以将多个相关的小提交合并为一个更有意义的提交。
    
    在提交行前，将要合并的提交的操作类型改为 `squash` 或 `fixup`。在保存并关闭编辑器后，Git 会将这些提交合并到前一个提交中，并允许你编辑合并后的提交消息。
    
2. **修改提交消息（reword）**：
    
    使用 `reword` 操作可以修改一个提交的提交消息。将要修改的提交的操作类型改为 `reword`，保存并关闭编辑器后，Git 会允许你编辑该提交的提交消息。
    
    这个操作非常有用，可以帮助你更好地描述提交的内容或修正拼写错误。
    
3. **删除提交（drop）**：
    
    使用 `drop` 操作可以删除一个提交。将要删除的提交的操作类型改为 `drop`，保存并关闭编辑器后，Git 会跳过该提交并将其从提交历史中移除。
    
    注意，删除提交会永久丢失该提交及其更改。
    
4. **重新排序提交**：
    
    在交互式 rebase 中，你可以通过调整提交行的顺序来重新排序提交。将提交行按照你期望的顺序移动到所需的位置，保存并关闭编辑器后，Git 会按照新的顺序应用提交。
    
    这个操作可以帮助你更好地组织提交历史，使其更具有逻辑性和可读性。
    
5. **编辑提交内容**：
    
    在交互式 rebase 过程中，你可以选择将操作类型设置为 `edit`，这样在应用每个提交时，Git 会暂停 rebase 过程，允许你对提交进行修改。
    
    这个操作可以用来修改提交的内容、添加文件、拆分提交等。在完成修改后，使用 `git add` 命令将更改添加到暂存区，然后执行 `git rebase --continue` 继续 rebase 过程。
    

请注意，`git rebase -i` 可能会改变提交历史的结构，因此在对已经被推送到远程仓库的提交历史执行 rebase 操作前，请确保了解与团队合作的最佳实践和协作流程。如果你不确定操作的影响，请备份你的仓库或与团队成员协商后再进行 rebase。![[Pasted image 20231102094346.png]]