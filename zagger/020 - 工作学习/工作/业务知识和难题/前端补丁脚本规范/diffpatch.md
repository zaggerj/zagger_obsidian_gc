---
created: 2023-11-03T22:29
updated: 2023-11-03T22:29
---
nodejs实现如下功能：
1. 读取git仓库中是否存在工作区改动或者暂存区的改动， 如果存在，询问用户是否仅仅做相对于最新提交的临时改动补丁，如果是读取文件改动列表，并将这些文件按照原有路径 打包到zip文件中
2.否则，基于git仓库中的基准提交，到目标提交，使用git diff 基准提交 目标提交，生成文件列表，并将这些文件按照原有路径 打包到zip文件中
3. 基于git仓库中的工作目录和暂存区，文件改动列表，并将这些文件按照原有路径 打包到zip文件中
4. 通过读取命令行参数，校验传参方式，并给出传参提示

nodejs实现如下功能：

读取当前git仓库情况：
如果命令行参数只有一个参数并且工作区或者暂存区存在改动，临时读取工作区和暂存区的文件改动列表，形成并将这些文件按照原有路径 打包到zip文件中
如果存在多个参数，并且工作区和暂存区不存在改动，从命令行参数中分别读取baseCommitId和targetCommitId，对比出文件差异列表，然后并将这些文件按照原有路径 打包到zip文件中

通过读取命令行参数，校验传参方式，并给出传参提示